[
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2660989145",
    "pull_request_review_id": 3626269264,
    "id": 2660989145,
    "node_id": "PRRC_kwDOKz8A-86em3jZ",
    "diff_hunk": "@@ -21,8 +21,12 @@\n - Naming: snake_case for methods/variables, CamelCase for classes",
    "path": "CLAUDE.md",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "5e9b874ef41a0f72baf5582471aae45badfba8e5",
    "user": {
      "login": "JeSuisUnCaillou",
      "id": 6117264,
      "node_id": "MDQ6VXNlcjYxMTcyNjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6117264?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeSuisUnCaillou",
      "html_url": "https://github.com/JeSuisUnCaillou",
      "followers_url": "https://api.github.com/users/JeSuisUnCaillou/followers",
      "following_url": "https://api.github.com/users/JeSuisUnCaillou/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeSuisUnCaillou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeSuisUnCaillou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeSuisUnCaillou/subscriptions",
      "organizations_url": "https://api.github.com/users/JeSuisUnCaillou/orgs",
      "repos_url": "https://api.github.com/users/JeSuisUnCaillou/repos",
      "events_url": "https://api.github.com/users/JeSuisUnCaillou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeSuisUnCaillou/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "(J'pense qu'on peut avancer avec mes suggestions, Eva est encore en cong√© cette semaine)",
    "created_at": "2026-01-05T10:18:02Z",
    "updated_at": "2026-01-05T10:18:02Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2660989145",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2660989145"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2660989145"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2660989145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 21,
    "original_line": 21,
    "side": "RIGHT",
    "in_reply_to_id": 2642653302,
    "author_association": "MEMBER",
    "original_position": 1,
    "position": 1,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661477864",
    "pull_request_review_id": 3626819396,
    "id": 2661477864,
    "node_id": "PRRC_kwDOKz8A-86eou3o",
    "diff_hunk": "@@ -3,22 +3,26 @@ def success_message_for_authorization_request(authorization_request, key:)\n     message_for_authorization_request(authorization_request, key:, type: :success)\n   end\n \n+  def success_message_for_building_authorization_request(authorization_request, key:)",
    "path": "app/controllers/concerns/authorization_requests_flashes.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "b54e73d27447be03a5fb7513a66378f55302f358",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Alors pourquoi avoir \n```ruby \ndef success_message_for_authorization_request(authorization_request, key:)\n    message_for_authorization_request(authorization_request, key:, type: :success)\n  end\n\n  def success_message_for_building_authorization_request(authorization_request, key:)\n    message_for_authorization_request(authorization_request, key:, type: :success, tiny: true)\n  end \n```\n\nAlors que l'on pourrait avoir qu'une seule m√©thode ?\n```ruby\ndef success_message_for_authorization_request(authorization_request, key:, tiny: false)\n  message_for_authorization_request(\n    authorization_request,\n    key: key,\n    type: :success,\n    tiny: tiny\n  )\nend\n```\n\net dans les controllers on pourrait avoir \n```ruby\nif organizer.success?\n  unless next_submit?\n    success_message_for_authorization_request(\n      @authorization_request,\n      key: \"authorization_request_forms.create\",\n      tiny: true\n    )\n  end\n```\n",
    "created_at": "2026-01-05T13:20:10Z",
    "updated_at": "2026-01-05T15:51:42Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661477864",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661477864"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661477864"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661477864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 6,
    "original_line": 6,
    "side": "RIGHT",
    "in_reply_to_id": 2639936972,
    "author_association": "MEMBER",
    "original_position": 4,
    "position": 4,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661590856",
    "pull_request_review_id": 3626819396,
    "id": 2661590856,
    "node_id": "PRRC_kwDOKz8A-86epKdI",
    "diff_hunk": "@@ -1,25 +1,22 @@\n <% %i[error info success warning].each do |kind| %>\n   <% if flash[kind].present? %>\n-    <div class=\"fr-alert fr-alert--<%= kind %> fr-my-8v\" id=\"<%= flash[kind]['id'] %>\">\n-      <h3 class=\"fr-alert__title\">\n+    <% if flash[kind]['tiny'] %>",
    "path": "app/views/shared/_alerts.html.erb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion : On peut refactoriser pour appliquer le principe de l'Atomic Design System ici.  \n\nLe code est bien trop complexe pour cette vue et pourrait √™tre drastiquement simplifi√©. \n\n Structure propos√©e\n\n  Atoms : dsfr_alert (fourni par la gem DSFR)\n  Molecules : FlashAlertComponent (nouveau composant √† cr√©er)\n  Usage : Template simple qui it√®re sur les flash messages\n\nDans la vue, on n'aurait plus de complexit√© √† g√©rer mais juste quelque chose comme \n\n```html.erb \n app/views/shared/_alerts.html.erb :\n  <% %i[error info success warning].each do |kind| %>\n    <% if flash[kind].present? %>\n      <%= render FlashAlertComponent.new(\n        type: kind,\n        data: flash[kind],\n        close_button: local_assigns.fetch(:close_button, true)\n      ) %>\n    <% end %>\n  <% end %>\n```\n\n",
    "created_at": "2026-01-05T13:59:23Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661590856",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661590856"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661590856"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661590856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3,
    "original_line": 3,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 5,
    "position": 5,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661602525",
    "pull_request_review_id": 3626819396,
    "id": 2661602525,
    "node_id": "PRRC_kwDOKz8A-86epNTd",
    "diff_hunk": "@@ -459,7 +448,7 @@ fr:\n \n   demandes_habilitations:\n     current_user_mentions_alert:\n-      text: Vous avez √©t√© r√©f√©renc√© comme %{contact_types} dans cette habilitation.\n+      text: vous avez √©t√© r√©f√©renc√© comme %{contact_types}.",
    "path": "config/locales/fr.yml",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Il manque la majuscule de d√©but de phrase. ",
    "created_at": "2026-01-05T14:02:53Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661602525",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661602525"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661602525"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661602525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 451,
    "original_line": 451,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 34,
    "position": 34,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661654773",
    "pull_request_review_id": 3626819396,
    "id": 2661654773,
    "node_id": "PRRC_kwDOKz8A-86epaD1",
    "diff_hunk": "@@ -0,0 +1,10 @@\n+.fr-notice--full-width {",
    "path": "app/assets/stylesheets/components/notice_full_width.css",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Je pense qu'il serait pr√©f√©rable de d√©placer ce code dans `app/assets/stylesheets/dsfr-extensions.css`\n",
    "created_at": "2026-01-05T14:14:42Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661654773",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661654773"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661654773"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661654773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1,
    "original_line": 1,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 1,
    "position": 1,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661655443",
    "pull_request_review_id": 3626819396,
    "id": 2661655443,
    "node_id": "PRRC_kwDOKz8A-86epaOT",
    "diff_hunk": "@@ -0,0 +1,5 @@\n+.fr-alert.fr-alert--tiny {",
    "path": "app/assets/stylesheets/components/tiny_alerts.css",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "De m√™me que plus haut: \nIl faudrait le d√©placer dans `app/assets/stylesheets/dsfr-extensions.css`",
    "created_at": "2026-01-05T14:14:54Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661655443",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661655443"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661655443"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661655443/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1,
    "original_line": 1,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 1,
    "position": 1,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661695146",
    "pull_request_review_id": 3626819396,
    "id": 2661695146,
    "node_id": "PRRC_kwDOKz8A-86epj6q",
    "diff_hunk": "@@ -0,0 +1,148 @@\n+class Applicant::DemandeAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization_request:, current_user:, authorization: nil)",
    "path": "app/components/applicant/demande_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion: Ce component est encore trop complexe, il g√®re 4 types d'alertes diff√©rentes dans une seule classe et pourrait √™tre d'avantage d√©coup√© en suivant le principe d'Atomic Design Pattern. \n\nLes alertes comme `InstructorBanner` ou `UpdateInProgress` pourraient √™tre utiles dans d'autres contextes. \n\non pourrait faire un d√©coupage de ce type : \n```md\n  **Structure propos√©e :**\n  app/components/\n  ‚îú‚îÄ‚îÄ molecules/\n  ‚îÇ   ‚îú‚îÄ‚îÄ instructor_banner_notice_component.rb\n  ‚îÇ   ‚îî‚îÄ‚îÄ update_in_progress_notice_component.rb\n  ‚îî‚îÄ‚îÄ organisms/\n      ‚îî‚îÄ‚îÄ applicant/\n          ‚îî‚îÄ‚îÄ demande_alerts_component.rb\n```\n\n\n\n\n\n",
    "created_at": "2026-01-05T14:27:49Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661695146",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661695146"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661695146"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661695146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4,
    "original_line": 4,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 4,
    "position": 4,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661771870",
    "pull_request_review_id": 3626819396,
    "id": 2661771870,
    "node_id": "PRRC_kwDOKz8A-86ep2pe",
    "diff_hunk": "@@ -0,0 +1,148 @@\n+class Applicant::DemandeAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization_request:, current_user:, authorization: nil)\n+    @authorization_request = authorization_request\n+    @current_user = current_user\n+    @authorization = authorization\n+    super()\n+  end\n+\n+  def render?\n+    show_instructor_banner? ||\n+      show_dirty_from_v1_alert? ||\n+      show_update_in_progress_alert? ||\n+      show_summary_before_submit?\n+  end\n+\n+  def call\n+    safe_join([\n+      summary_before_submit_notice,\n+      instructor_banner_notice,\n+      dirty_from_v1_alert,\n+      update_in_progress_notice\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization_request, :current_user\n+\n+  def summary_before_submit_notice\n+    return unless show_summary_before_submit?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.title'),\n+      description: I18n.t('authorization_request_forms.summary.description'),\n+      type: 'warning',\n+      html_attributes: { class: 'fr-mb-4w fr-px-4v' }\n+    )\n+  end\n+\n+  def show_summary_before_submit?\n+    authorization_request.draft? &&\n+      current_user_is_applicant?\n+  end\n+\n+  def current_user_is_applicant?\n+    authorization_request.applicant == current_user\n+  end\n+\n+  def instructor_banner_notice\n+    return unless show_instructor_banner?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: instructor_banner_title,\n+      description: instructor_banner_full_description,\n+      type: instructor_banner_type.to_s,\n+      html_attributes: { class: 'fr-notice--full-width fr-notice--multi-lines fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_instructor_banner?\n+    authorization_request.changes_requested? || authorization_request.refused?\n+  end\n+\n+  def instructor_banner_type\n+    return :alert if authorization_request.refused? || (authorization_request.reopening? && authorization_request.denial.present?)\n+    return :warning if authorization_request.changes_requested?\n+\n+    nil\n+  end\n+\n+  def instructor_banner_title\n+    I18n.t(\"#{instructor_banner_i18n_key}.title\")\n+  end\n+\n+  def instructor_banner_description\n+    I18n.t(\"#{instructor_banner_i18n_key}.description\")\n+  end\n+\n+  def instructor_banner_reason\n+    return authorization_request.modification_request&.reason if authorization_request.changes_requested?\n+    return authorization_request.denial&.reason if instructor_banner_type == :alert\n+\n+    nil\n+  end\n+\n+  def instructor_banner_full_description\n+    description = instructor_banner_description\n+    return description if instructor_banner_reason.blank?\n+\n+    helpers.safe_join([\n+      description,\n+      '<br />'.html_safe,",
    "path": "app/components/applicant/demande_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion: \nRemplacer html_safe par des helpers Rails s√©curis√©s. \n\nQuelque chose comme \n```ruby\n    safe_join([\n      instructor_banner_description,\n      tag.br,\n      simple_format(instructor_banner_reason, {}, wrapper_tag: 'span')\n    ])\n```\n",
    "created_at": "2026-01-05T14:52:05Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661771870",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661771870"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661771870"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661771870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 96,
    "original_line": 96,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 94,
    "position": 96,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661777771",
    "pull_request_review_id": 3626819396,
    "id": 2661777771,
    "node_id": "PRRC_kwDOKz8A-86ep4Fr",
    "diff_hunk": "@@ -0,0 +1,148 @@\n+class Applicant::DemandeAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization_request:, current_user:, authorization: nil)\n+    @authorization_request = authorization_request\n+    @current_user = current_user\n+    @authorization = authorization\n+    super()\n+  end\n+\n+  def render?\n+    show_instructor_banner? ||\n+      show_dirty_from_v1_alert? ||\n+      show_update_in_progress_alert? ||\n+      show_summary_before_submit?\n+  end\n+\n+  def call\n+    safe_join([\n+      summary_before_submit_notice,\n+      instructor_banner_notice,\n+      dirty_from_v1_alert,\n+      update_in_progress_notice\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization_request, :current_user\n+\n+  def summary_before_submit_notice\n+    return unless show_summary_before_submit?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.title'),\n+      description: I18n.t('authorization_request_forms.summary.description'),\n+      type: 'warning',\n+      html_attributes: { class: 'fr-mb-4w fr-px-4v' }\n+    )\n+  end\n+\n+  def show_summary_before_submit?\n+    authorization_request.draft? &&\n+      current_user_is_applicant?\n+  end\n+\n+  def current_user_is_applicant?\n+    authorization_request.applicant == current_user\n+  end\n+\n+  def instructor_banner_notice\n+    return unless show_instructor_banner?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: instructor_banner_title,\n+      description: instructor_banner_full_description,\n+      type: instructor_banner_type.to_s,\n+      html_attributes: { class: 'fr-notice--full-width fr-notice--multi-lines fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_instructor_banner?\n+    authorization_request.changes_requested? || authorization_request.refused?\n+  end\n+\n+  def instructor_banner_type\n+    return :alert if authorization_request.refused? || (authorization_request.reopening? && authorization_request.denial.present?)\n+    return :warning if authorization_request.changes_requested?\n+\n+    nil\n+  end\n+\n+  def instructor_banner_title\n+    I18n.t(\"#{instructor_banner_i18n_key}.title\")\n+  end\n+\n+  def instructor_banner_description\n+    I18n.t(\"#{instructor_banner_i18n_key}.description\")\n+  end\n+\n+  def instructor_banner_reason\n+    return authorization_request.modification_request&.reason if authorization_request.changes_requested?\n+    return authorization_request.denial&.reason if instructor_banner_type == :alert\n+\n+    nil\n+  end\n+\n+  def instructor_banner_full_description\n+    description = instructor_banner_description\n+    return description if instructor_banner_reason.blank?\n+\n+    helpers.safe_join([\n+      description,\n+      '<br />'.html_safe,\n+      instructor_banner_reason.gsub(\"\\n\", '<br />').html_safe\n+    ])\n+  end\n+\n+  def instructor_banner_i18n_key\n+    key = if authorization_request.reopening?\n+            instructor_banner_type == :alert ? 'reopening_refused' : 'reopening_changes_requested'\n+          elsif instructor_banner_type == :alert\n+            'refused'\n+          else\n+            'changes_requested'\n+          end\n+    \"authorization_requests.show.#{key}\"\n+  end\n+\n+  def dirty_from_v1_alert\n+    return unless show_dirty_from_v1_alert?\n+\n+    helpers.dsfr_alert(\n+      type: :warning,\n+      title: I18n.t('authorization_requests.show.dirty_from_v1.title'),\n+      html_attributes: { class: 'fr-mb-4w' }",
    "path": "app/components/applicant/demande_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion: \nExtraire toutes les classes CSS en constante. \n\npar exemple: \n```ruby\n NOTICE_FULL_WIDTH_CLASSES = 'fr-notice--full-width fr-notice--multi-lines fr-mb-4w'\n    NOTICE_STANDARD_CLASSES = 'fr-mb-4w fr-px-4v'\n\n    # ...\n\n    html_attributes: { class: NOTICE_FULL_WIDTH_CLASSES }\n    html_attributes: { class: NOTICE_STANDARD_CLASSES }\n```",
    "created_at": "2026-01-05T14:53:53Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661777771",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661777771"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661777771"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661777771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 118,
    "original_line": 118,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 116,
    "position": 118,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661807882",
    "pull_request_review_id": 3626819396,
    "id": 2661807882,
    "node_id": "PRRC_kwDOKz8A-86ep_cK",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion rajouter un delegate : \n```ruby \n    delegate :request, to: :authorization\n```\n\nOn √©viterait des r√©p√©titions de `authorization.request` et on am√©liorerait la lisibilit√©.",
    "created_at": "2026-01-05T15:02:51Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661807882",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661807882"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661807882"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661807882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 24,
    "original_line": 24,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 24,
    "position": 24,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661812470",
    "pull_request_review_id": 3626819396,
    "id": 2661812470,
    "node_id": "PRRC_kwDOKz8A-86eqAj2",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "M√™me remarque pour les html_attributes que pour `DemandesAlertsComponent` \n\n",
    "created_at": "2026-01-05T15:04:23Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661812470",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661812470"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661812470"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661812470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 32,
    "original_line": 32,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 32,
    "position": 32,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661831825",
    "pull_request_review_id": 3626819396,
    "id": 2661831825,
    "node_id": "PRRC_kwDOKz8A-86eqFSR",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(\n+        \"Consulter la demande de mise √† jour n¬∞#{authorization.request.id}\",\n+        helpers.authorization_request_path(authorization.request)\n+      )\n+    ).html_safe\n+  end\n+\n+  def access_callout\n+    return unless show_access_callout?\n+\n+    helpers.dsfr_callout(\n+      title: I18n.t('authorization_requests.show.access_callout.title'),\n+      html_attributes: { class: 'fr-my-16v' }\n+    ) do |callout|\n+      callout.with_action_zone do\n+        helpers.link_to(\n+          I18n.t('authorization_requests.show.access_callout.button'),\n+          authorization.request.access_link,",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "üîç Accessibilit√© : \nRajouter un `title` pour les liens s'ouvrant dans une nouvelle page : \n\ntitle=\"intitul√© du lien - nouvelle fen√™tre\"\n",
    "created_at": "2026-01-05T15:10:32Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661831825",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661831825"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661831825"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661831825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 60,
    "original_line": 60,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 60,
    "position": 60,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661855600",
    "pull_request_review_id": 3626819396,
    "id": 2661855600,
    "node_id": "PRRC_kwDOKz8A-86eqLFw",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(\n+        \"Consulter la demande de mise √† jour n¬∞#{authorization.request.id}\",\n+        helpers.authorization_request_path(authorization.request)\n+      )\n+    ).html_safe\n+  end\n+\n+  def access_callout\n+    return unless show_access_callout?\n+\n+    helpers.dsfr_callout(\n+      title: I18n.t('authorization_requests.show.access_callout.title'),\n+      html_attributes: { class: 'fr-my-16v' }\n+    ) do |callout|\n+      callout.with_action_zone do\n+        helpers.link_to(\n+          I18n.t('authorization_requests.show.access_callout.button'),\n+          authorization.request.access_link,\n+          class: 'fr-btn fr-btn--icon-right fr-icon-external-link-line',\n+          target: '_blank',\n+          rel: 'noopener'",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion : Selon le Dsfr ajouter l'attribut  `rel=\"noopener external\"`",
    "created_at": "2026-01-05T15:17:42Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661855600",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661855600"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661855600"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661855600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 63,
    "original_line": 63,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 63,
    "position": 63,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661867516",
    "pull_request_review_id": 3626819396,
    "id": 2661867516,
    "node_id": "PRRC_kwDOKz8A-86eqN_8",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Question ? \nA t'on besoin d'utiliser helpers pour \n`helpers.link_to` ? \nm√™me question pour `helpers.dsfr_callout`? ",
    "created_at": "2026-01-05T15:21:20Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661867516",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661867516"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661867516"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661867516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 43,
    "position": 43,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661872336",
    "pull_request_review_id": 3626819396,
    "id": 2661872336,
    "node_id": "PRRC_kwDOKz8A-86eqPLQ",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(\n+        \"Consulter la demande de mise √† jour n¬∞#{authorization.request.id}\",\n+        helpers.authorization_request_path(authorization.request)\n+      )\n+    ).html_safe\n+  end\n+\n+  def access_callout",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion:  \nJe d√©composerais d'avantage `access_callout` en extrayant des m√©thodes (access_callout_title / access_callout_button / access_callout_content)  par exemple ",
    "created_at": "2026-01-05T15:22:57Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661872336",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661872336"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661872336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661872336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 50,
    "original_line": 50,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 50,
    "position": 50,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661881159",
    "pull_request_review_id": 3626819396,
    "id": 2661881159,
    "node_id": "PRRC_kwDOKz8A-86eqRVH",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(\n+        \"Consulter la demande de mise √† jour n¬∞#{authorization.request.id}\",\n+        helpers.authorization_request_path(authorization.request)\n+      )\n+    ).html_safe\n+  end\n+\n+  def access_callout\n+    return unless show_access_callout?\n+\n+    helpers.dsfr_callout(\n+      title: I18n.t('authorization_requests.show.access_callout.title'),\n+      html_attributes: { class: 'fr-my-16v' }\n+    ) do |callout|\n+      callout.with_action_zone do\n+        helpers.link_to(\n+          I18n.t('authorization_requests.show.access_callout.button'),\n+          authorization.request.access_link,\n+          class: 'fr-btn fr-btn--icon-right fr-icon-external-link-line',\n+          target: '_blank',\n+          rel: 'noopener'\n+        )\n+      end\n+      I18n.t('authorization_requests.show.access_callout.content', access_name: authorization.request.name)\n+    end\n+  end\n+\n+  def show_access_callout?",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "Suggestion : \n```ruby\ndef show_access_callout\n  request.access_link.present? && request.validated? && current_user_is_applicant?\nend\n\ndef current_user_is_applicant?\n  current_user == request.applicant\nend\n```",
    "created_at": "2026-01-05T15:25:44Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661881159",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661881159"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661881159"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661881159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 70,
    "position": 70,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661890714",
    "pull_request_review_id": 3626819396,
    "id": 2661890714,
    "node_id": "PRRC_kwDOKz8A-86eqTqa",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "De fa√ßon g√©n√©rale, je propose de simplifier les appels i18n dans des m√©thodes d√©di√©s pour facilit√© la lecture et r√©duire la complexit√© de ce fichier. \n",
    "created_at": "2026-01-05T15:28:28Z",
    "updated_at": "2026-01-05T15:51:41Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661890714",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661890714"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661890714"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661890714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 29,
    "original_line": 29,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 29,
    "position": 29,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661913489",
    "pull_request_review_id": 3626819396,
    "id": 2661913489,
    "node_id": "PRRC_kwDOKz8A-86eqZOR",
    "diff_hunk": "@@ -0,0 +1,75 @@\n+class Habilitation::UserAlertsComponent < ApplicationComponent\n+  include Rails.application.routes.url_helpers\n+\n+  def initialize(authorization:, current_user:)\n+    @authorization = authorization\n+    @current_user = current_user\n+    super()\n+  end\n+\n+  def render?\n+    show_update_in_progress_alert? || show_access_callout?\n+  end\n+\n+  def call\n+    safe_join([\n+      update_in_progress_notice,\n+      access_callout\n+    ].compact)\n+  end\n+\n+  private\n+\n+  attr_reader :authorization, :current_user\n+\n+  def update_in_progress_notice\n+    return unless show_update_in_progress_alert?\n+\n+    render DsfrComponent::NoticeComponent.new(\n+      title: I18n.t('authorization_request_forms.summary.reopening_alerts.update_in_progress.title'),\n+      description: update_in_progress_message,\n+      type: 'info',\n+      html_attributes: { class: 'fr-notice--full-width fr-mb-4w' }\n+    )\n+  end\n+\n+  def show_update_in_progress_alert?\n+    authorization.latest? && authorization.request.reopening?\n+  end\n+\n+  def update_in_progress_message\n+    I18n.t(\n+      'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n+      link: helpers.link_to(\n+        \"Consulter la demande de mise √† jour n¬∞#{authorization.request.id}\",",
    "path": "app/components/habilitation/user_alerts_component.rb",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "On pourrait extraire la traduction du lien ? \nQuelque chose comme \n```ruby\ndef update_in_progress_description\n      I18n.t(\n        'authorization_request_forms.summary.reopening_alerts.update_in_progress.message',\n        link: update_request_link\n      ).html_safe\n    end\n\n    def update_request_link\n      link_to(\n        \"Consulter la demande de mise √† jour n¬∞#{request.id}\",\n        authorization_request_path(request)\n      )\n    end\n```\n\nD'ailleurs il y a du texte qui pourrait √™tre d√©placer dans les locales : \n`Consulter la demande de mise √† jour n¬∞#{request.id}` ",
    "created_at": "2026-01-05T15:35:24Z",
    "updated_at": "2026-01-05T15:51:42Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661913489",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661913489"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661913489"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661913489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 44,
    "original_line": 44,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 44,
    "position": 44,
    "subject_type": "line"
  },
  {
    "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661945514",
    "pull_request_review_id": 3626819396,
    "id": 2661945514,
    "node_id": "PRRC_kwDOKz8A-86eqhCq",
    "diff_hunk": "@@ -12,4 +12,6 @@ fr:\n       transfer_modal_title: \"Transf√©rer l'habilitation √† un autre utilisateur de votre organisation\"\n       start_next_stage_title: \"D√©marrer une nouvelle demande d'habilitation pour l'environnement de production\"\n       contact_support_subject: \"Habilitation %{authorization_id} r√©voqu√©e\"\n+      old_version: \"Cette habilitation est obsol√®te, elle a √©t√© remplac√©e par %{link}\"\n+      old_version_link: \"l'habilitation N¬∞%{id}\"",
    "path": "config/locales/components.fr.yml",
    "commit_id": "3cea00cccf68a746a9824081d9130787c807bf5c",
    "original_commit_id": "cd839c7ea48cfe689a173140f44bccf2836fcaf9",
    "user": {
      "login": "Isalafont",
      "id": 43042737,
      "node_id": "MDQ6VXNlcjQzMDQyNzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/43042737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Isalafont",
      "html_url": "https://github.com/Isalafont",
      "followers_url": "https://api.github.com/users/Isalafont/followers",
      "following_url": "https://api.github.com/users/Isalafont/following{/other_user}",
      "gists_url": "https://api.github.com/users/Isalafont/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Isalafont/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Isalafont/subscriptions",
      "organizations_url": "https://api.github.com/users/Isalafont/orgs",
      "repos_url": "https://api.github.com/users/Isalafont/repos",
      "events_url": "https://api.github.com/users/Isalafont/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Isalafont/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "body": "l‚Äôhabilitation",
    "created_at": "2026-01-05T15:45:22Z",
    "updated_at": "2026-01-05T15:51:42Z",
    "html_url": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661945514",
    "pull_request_url": "https://api.github.com/repos/etalab/data_pass/pulls/1274",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661945514"
      },
      "html": {
        "href": "https://github.com/etalab/data_pass/pull/1274#discussion_r2661945514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/etalab/data_pass/pulls/1274"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/etalab/data_pass/pulls/comments/2661945514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 16,
    "original_line": 16,
    "side": "RIGHT",
    "author_association": "MEMBER",
    "original_position": 5,
    "position": 5,
    "subject_type": "line"
  }
]
